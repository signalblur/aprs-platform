<%= link_to sighting_path(sighting_card), class: "block group" do %>
  <article class="bg-aprs-surface rounded-xl border border-aprs-border/30 p-5 hover:border-aprs-primary/40 hover:shadow-lg hover:shadow-aprs-primary/5 transition-all duration-200">
    <div class="flex items-start justify-between gap-4 mb-3">
      <div class="flex items-center gap-2">
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-aprs-primary/15 text-aprs-primary border border-aprs-primary/20">
          <%= sighting_card.shape.name %>
        </span>
        <% status_colors = { "submitted" => "aprs-warning", "under_review" => "aprs-primary", "verified" => "aprs-accent", "rejected" => "aprs-danger" } %>
        <% color = status_colors[sighting_card.status] || "aprs-text-muted" %>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-<%= color %>/10 text-<%= color %> border border-<%= color %>/20">
          <%= sighting_card.status.humanize %>
        </span>
      </div>
      <time class="text-xs text-aprs-text-muted whitespace-nowrap" datetime="<%= sighting_card.observed_at.iso8601 %>">
        <%= sighting_card.observed_at.strftime("%b %d, %Y") %>
      </time>
    </div>

    <p class="text-sm text-aprs-text/80 leading-relaxed mb-3 line-clamp-2">
      <%= sighting_card.description.truncate(150) %>
    </p>

    <div class="flex items-center gap-4 text-xs text-aprs-text-muted">
      <span><%= pluralize(sighting_card.num_witnesses, "witness") %></span>
      <% if sighting_card.duration_seconds %>
        <span><%= distance_of_time_in_words(sighting_card.duration_seconds) %></span>
      <% end %>
      <% if sighting_card.location %>
        <span>Lat <%= "%.4f" % sighting_card.location.y %>, Lng <%= "%.4f" % sighting_card.location.x %></span>
      <% end %>
    </div>
  </article>
<% end %>
